species_has_happiness = {
    NOR = {
        has_trait = trait_machine_unit
        has_trait = trait_hive_mind
        has_trait = trait_nerve_stapled
        has_trait = sh_trait_shenhai
        has_trait = sh_trait_shenhai1
        has_trait = sh_trait_shenhai2
        has_trait = sh_trait_silent
        has_trait = sh_trait_silent1
        has_trait = trait_plentiful_traditions_cocoon
        AND = {
            has_trait = trait_mechanical
            OR = {
                NOT = {
                    exists = from
                }
                from = {
                    has_authority = auth_machine_intelligence
                    NOR = {
                        has_civic = civic_machine_emotion_emulator_intelligence
                        has_modifier = mod_civic_machine_ee_intelligence
                    }
                }
                from = {
                    NOT = {
                        has_technology = tech_synthetic_workers
                    }
                    NAND = {
                        has_global_flag = stability_MOD_installed
                        has_technology = tech_sapient_ai
                    }
                }
                from = {
                    has_policy_flag = ai_outlawed
                    OR = {
                        NOT = {
                            has_global_flag = stability_MOD_installed
                        }
                        has_technology = tech_synthetic_workers
                        has_technology = tech_sapient_ai
                    }
                }
            }
        }
        AND = {
            has_trait = trait_cybernetic
            exists = from
            from = {
                has_authority = auth_machine_intelligence
                has_civic = civic_machine_assimilator
                NOR = {
                    has_civic = civic_machine_emotion_emulator_intelligence
                    has_modifier = mod_civic_machine_ee_intelligence
                }
            }
        }
    }
}
