namespace = apsr_enclave

# занятые номера:
# 1-4 окна покупки улучшений
# 99 активация Куба и имитация покупки улучшений (для ИИ)
# 100-103 общение с анклавом (игрок)
# 110-114 сбой преторианцы
# 120-124 сбой незванные
# 130-134 сбой контингенция
# 200 - Терминал - получение координат
# 201-205 - Терминал - получение кода для реликвии
# 209 - Терминал - получение реликвии
# 211-219 - разговор угасших
# 300-310 активация указа на изучение Древних
# 398 при колонизации/захвате/передаче планет с спец депозитом - удаление при необходимости
# 399 УКАЗ "ИЗУЧЕНИЕ ДРЕВНИХ" - система выдачи случайных сообщений




country_event = {
	id = apsr_enclave.1
	title = "apsr_enclave_title"
	desc = "apsr_enclave_desc"
	diplomatic = yes
	is_triggered_only = yes
	custom_gui = apsr_enclave_economy_faction_overview
}

country_event = {
	id = apsr_enclave.2
	title = "apsr_enclave_title"
	desc = "apsr_enclave_desc"
	diplomatic = yes
	is_triggered_only = yes
	custom_gui = apsr_enclave_science_faction_overview
}

country_event = {
	id = apsr_enclave.3
	title = "apsr_enclave_title"
	desc = "apsr_enclave_desc"
	diplomatic = yes
	is_triggered_only = yes
	custom_gui = apsr_enclave_assault_faction_overview
}

country_event = {
	id = apsr_enclave.4
	title = "apsr_enclave_title"
	desc = "apsr_enclave_desc"
	diplomatic = yes
	is_triggered_only = yes
	custom_gui = apsr_enclave_defence_faction_overview
}



# АКТИВАЦИЯ КУБА

country_event = {
	id = apsr_enclave.99
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_ai = yes
			}
			if = {
				limit = {
					AND = {
						is_at_war = yes
						any_war = {
							is_war_participant = { who = root side = attackers }
						}
						NOT = {
							apsr_enclave_assault_completed = yes
						}
					}					
				}
				apsr_enclave_assault_ai_store = yes
			}
			else_if = {
				limit = {
					AND = {
						is_at_war = yes
						any_war = {
							is_war_participant = { who = root side = defenders }
						}
						NOT = {
							apsr_enclave_defence_completed = yes
						}
					}					
				}
				apsr_enclave_defence_ai_store = yes
			}
			else_if = {
				limit = {
					AND = {
						OR = {
							resource_stockpile_compare = { resource = energy value < 10000 }
							resource_stockpile_compare = { resource = minerals value < 5000 }
							resource_stockpile_compare = { resource = alloys value < 1000 }
						}
						NOT = {
							apsr_enclave_economy_completed = yes
						}					
					}
				}
				apsr_enclave_economy_ai_store = yes
			}
			else_if = {
				limit = {
					NOT = {
						apsr_enclave_science_completed = yes
					}				
				}
				apsr_enclave_science_ai_store = yes
			}
			else_if = {
				limit = {
					NOT = {
						apsr_enclave_assault_completed = yes
					}				
				}
				apsr_enclave_assault_ai_store = yes
			}
			else_if = {
				limit = {
					NOT = {
						apsr_enclave_defence_completed = yes
					}				
				}
				apsr_enclave_defence_ai_store = yes
			}
			else_if = {
				limit = {
					NOT = {
						apsr_enclave_economy_completed = yes
					}					
				}
				apsr_enclave_economy_ai_store = yes
			}
			else = {
				set_country_flag = apsr_ai_stop_using_cube	# запрет на использование
			}
		}
		else = {
			country_event = { id = apsr_enclave.100 }
		}
	}
}





# АКТИВАЦИЯ КУБА ДЛЯ ИГРОКА

country_event = {
	id = apsr_enclave.100
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				NOT = {
					has_country_flag = apsr_enclave_welcome
				}
			}
			country_event = { id = apsr_enclave.101 }
		}
		if = {
			limit = {
				has_country_flag = apsr_enclave_welcome
			}
			random_list = {
			
				85 = {	# 1 - Нормальная работа
					country_event = { id = apsr_enclave.103 }
				}
				
				5 = {	# 2 - Звонок Преторианцам
					modifier = {
						factor = 0
						OR = {
							has_global_flag = prethoryn_invasion_happened
							has_global_flag = apsr_enclave_prethoryn_on_the_way
						}
					}
					modifier = {
						add = 15
						AND = {
							apsr_enclave_economy_completed = yes
							NOT = {
								OR = {
									has_global_flag = prethoryn_invasion_happened
									has_global_flag = apsr_enclave_prethoryn_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 15
						AND = {
							apsr_enclave_science_completed = yes
							NOT = {
								OR = {
									has_global_flag = prethoryn_invasion_happened
									has_global_flag = apsr_enclave_prethoryn_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 15
						AND = {
							apsr_enclave_assault_completed = yes
							NOT = {
								OR = {
									has_global_flag = prethoryn_invasion_happened
									has_global_flag = apsr_enclave_prethoryn_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 15
						AND = {
							apsr_enclave_defence_completed = yes
							NOT = {
								OR = {
									has_global_flag = prethoryn_invasion_happened
									has_global_flag = apsr_enclave_prethoryn_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr16_building_part3
							NOT = {
								OR = {
									has_global_flag = prethoryn_invasion_happened
									has_global_flag = apsr_enclave_prethoryn_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr17_building_part3
							NOT = {
								OR = {
									has_global_flag = prethoryn_invasion_happened
									has_global_flag = apsr_enclave_prethoryn_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr18_building_part3
							NOT = {
								OR = {
									has_global_flag = prethoryn_invasion_happened
									has_global_flag = apsr_enclave_prethoryn_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							OR = {
								has_technology = tech_apsr19_building_part_b3
								has_technology = tech_apsr19_building_part_m3
							}	
							NOT = {
								OR = {
									has_global_flag = prethoryn_invasion_happened
									has_global_flag = apsr_enclave_prethoryn_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr20_building_part3
							NOT = {
								OR = {
									has_global_flag = prethoryn_invasion_happened
									has_global_flag = apsr_enclave_prethoryn_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							OR = {
								has_technology = tech_apsr21_building_part_b3
								has_technology = tech_apsr21_building_part_m3
							}
							NOT = {
								OR = {
									has_global_flag = prethoryn_invasion_happened
									has_global_flag = apsr_enclave_prethoryn_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr22_building_part3
							NOT = {
								OR = {
									has_global_flag = prethoryn_invasion_happened
									has_global_flag = apsr_enclave_prethoryn_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr23_building_part3
							NOT = {
								OR = {
									has_global_flag = prethoryn_invasion_happened
									has_global_flag = apsr_enclave_prethoryn_on_the_way
								}
							}
						}
					}
					country_event = { id = apsr_enclave.110 } # преторианцы
				}
				
				5 = {	# 3 - Звонок Незванным
					modifier = {
						factor = 0
						OR = {
							has_global_flag = extradimensional_invasion_happened
							has_global_flag = apsr_enclave_extradimensional_on_the_way
						}
					}
					modifier = {
						add = 15
						AND = {
							apsr_enclave_economy_completed = yes
							NOT = {
								OR = {
									has_global_flag = extradimensional_invasion_happened
									has_global_flag = apsr_enclave_extradimensional_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 15
						AND = {
							apsr_enclave_science_completed = yes
							NOT = {
								OR = {
									has_global_flag = extradimensional_invasion_happened
									has_global_flag = apsr_enclave_extradimensional_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 15
						AND = {
							apsr_enclave_assault_completed = yes
							NOT = {
								OR = {
									has_global_flag = extradimensional_invasion_happened
									has_global_flag = apsr_enclave_extradimensional_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 15
						AND = {
							apsr_enclave_defence_completed = yes
							NOT = {
								OR = {
									has_global_flag = extradimensional_invasion_happened
									has_global_flag = apsr_enclave_extradimensional_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr2_building_part5
							NOT = {
								OR = {
									has_global_flag = extradimensional_invasion_happened
									has_global_flag = apsr_enclave_extradimensional_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr7_building_part3
							NOT = {
								OR = {
									has_global_flag = extradimensional_invasion_happened
									has_global_flag = apsr_enclave_extradimensional_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr8_building_part3
							NOT = {
								OR = {
									has_global_flag = extradimensional_invasion_happened
									has_global_flag = apsr_enclave_extradimensional_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr9_building_part2
							NOT = {
								OR = {
									has_global_flag = extradimensional_invasion_happened
									has_global_flag = apsr_enclave_extradimensional_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr10_building_part1
							NOT = {
								OR = {
									has_global_flag = extradimensional_invasion_happened
									has_global_flag = apsr_enclave_extradimensional_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							OR = {
								has_technology = tech_apsr11_building_part_b3
								has_technology = tech_apsr11_building_part_m3
							}
							NOT = {
								OR = {
									has_global_flag = extradimensional_invasion_happened
									has_global_flag = apsr_enclave_extradimensional_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr12_building_part3
							NOT = {
								OR = {
									has_global_flag = extradimensional_invasion_happened
									has_global_flag = apsr_enclave_extradimensional_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							OR = {
								has_technology = tech_apsr15_building_part41
								has_technology = tech_apsr15_building_part42
								has_technology = tech_apsr15_building_part43
								has_technology = tech_apsr15_building_part44
								has_technology = tech_apsr15_building_part45
							}	
							NOT = {
								OR = {
									has_global_flag = extradimensional_invasion_happened
									has_global_flag = apsr_enclave_extradimensional_on_the_way
								}
							}
						}
					}
					country_event = { id = apsr_enclave.120 } # незванные
				}
				
				5 = { 	# 4 - Звонок Контингенции
					modifier = {
						factor = 0
						OR = {
							has_global_flag = ai_invasion_happened
							has_global_flag = apsr_enclave_ai_on_the_way
						}
					}
					modifier = {
						add = 15
						AND = {
							apsr_enclave_economy_completed = yes
							NOT = {
								OR = {
									has_global_flag = ai_invasion_happened
									has_global_flag = apsr_enclave_ai_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 15
						AND = {
							apsr_enclave_science_completed = yes
							NOT = {
								OR = {
									has_global_flag = ai_invasion_happened
									has_global_flag = apsr_enclave_ai_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 15
						AND = {
							apsr_enclave_assault_completed = yes
							NOT = {
								OR = {
									has_global_flag = ai_invasion_happened
									has_global_flag = apsr_enclave_ai_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 15
						AND = {
							apsr_enclave_defence_completed = yes
							NOT = {
								OR = {
									has_global_flag = ai_invasion_happened
									has_global_flag = apsr_enclave_ai_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr1_building_part3
							NOT = {
								OR = {
									has_global_flag = ai_invasion_happened
									has_global_flag = apsr_enclave_ai_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr3_building_part3
							NOT = {
								OR = {
									has_global_flag = ai_invasion_happened
									has_global_flag = apsr_enclave_ai_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							OR = {
								has_technology = tech_apsr4_building_part3
								has_technology = tech_apsr4_building_part3_ext
							}
							NOT = {
								OR = {
									has_global_flag = ai_invasion_happened
									has_global_flag = apsr_enclave_ai_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr5_building_part3
							NOT = {
								OR = {
									has_global_flag = ai_invasion_happened
									has_global_flag = apsr_enclave_ai_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr6_building_part3
							NOT = {
								OR = {
									has_global_flag = ai_invasion_happened
									has_global_flag = apsr_enclave_ai_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr13_building_part3
							NOT = {
								OR = {
									has_global_flag = ai_invasion_happened
									has_global_flag = apsr_enclave_ai_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							OR = {
								has_technology = tech_apsr14_building_part_b3
								has_technology = tech_apsr14_building_part_m3
							}
							NOT = {
								OR = {
									has_global_flag = ai_invasion_happened
									has_global_flag = apsr_enclave_ai_on_the_way
								}
							}
						}
					}
					modifier = {
						add = 5
						AND = {
							has_technology = tech_apsr24_building_talisman
							NOT = {
								OR = {
									has_global_flag = ai_invasion_happened
									has_global_flag = apsr_enclave_ai_on_the_way
								}
							}
						}
					}
					country_event = { id = apsr_enclave.130 } # контингенция
				}	
				
				5 = {	# 5 - подслушивание Угасших
					modifier = {
						factor = 0
						OR = {
							has_country_flag = apsr_enclave_ancient_fact_01
							NOT = {
								any_country = {
									is_country_type = fallen_empire
									NOT = { has_ethic = ethic_gestalt_consciousness }
									has_communications = root
									NOT = { is_at_war_with = root }
								}
							}
						}
					}
					country_event = { id = apsr_enclave.211 }
				}	
				
				10 = {	# 6 - Терминал - получение реликвии или кодов для нее
					modifier = {
						factor = 0
						has_global_flag = apsr_terminal_set_off
					}
					modifier = {
						factor = 0.25
						has_global_flag = apsr_terminal_factor_025
					}
					modifier = {
						factor = 0.5
						has_global_flag = apsr_terminal_factor_050
					}
					modifier = {
						factor = 2
						has_global_flag = apsr_terminal_factor_200
					}
					modifier = {
						factor = 3
						has_global_flag = apsr_terminal_factor_300
					}
					random_list = {
						25 = {
							modifier = {
								factor = 0
								has_relic = relic_apsr_terminal
							}
							country_event = { id = apsr_enclave.200 }
						}
						15 = {
							country_event = { id = apsr_enclave.201 }
						}
						15 = {
							country_event = { id = apsr_enclave.202 }
						}
						15 = {
							country_event = { id = apsr_enclave.203 }
						}
						15 = {
							country_event = { id = apsr_enclave.204 }
						}
						15 = {
							country_event = { id = apsr_enclave.205 }
						}
					}
				}
				
			}
		}
	}
}


# Окно приветствия
country_event = {
	id = apsr_enclave.101
	title = "apsr_enclave.101.title"
	desc = "apsr_enclave.101.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		room = no_video_feed_room
	}
		
	immediate = {
		
	}
	
	option = {
		name = apsr_enclave.101.button1
		response_text = apsr_enclave.101.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.101.button2
		response_text = apsr_enclave.101.button2.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.101.button3
		response_text = apsr_enclave.101.button3.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.101.buttonbuy
		country_event = { id = apsr_enclave.102 }
	}
}


# Окно выбора типа улучшения - первый визит
country_event = {
	id = apsr_enclave.102
	title = "apsr_enclave.102.title"
	desc = {
		trigger = {
			NOT = {
				has_country_flag = apsr_enclave_welcome	
			} 
		}
		text = "apsr_enclave.102.desc"
	}
	desc = {
		trigger = {
			has_country_flag = apsr_enclave_welcome	
		}
		text = "apsr_enclave.102.desc1"
	}
	desc = {
		trigger = {
			has_country_flag = apsr_enclave_welcome	
		}
		text = "apsr_enclave.102.desc2"
	}
	desc = {
		trigger = {
			has_country_flag = apsr_enclave_welcome	
		}
		text = "apsr_enclave.102.desc3"
	}
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		room = no_video_feed_room
	}
		
	option = {
		name = apsr_enclave.102.button1
		response_text = apsr_enclave.102.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.102.button2
		response_text = apsr_enclave.102.button2.response
		is_dialog_only = yes
	}
	option = {
		name = apsr_enclave.102.economy
		country_event = { id = apsr_enclave.1 }
		set_country_flag = apsr_enclave_welcome	
	}
	
	option = {
		name = apsr_enclave.102.science
		country_event = { id = apsr_enclave.2 }
		set_country_flag = apsr_enclave_welcome	
	}
	
	option = {
		name = apsr_enclave.102.assault
		country_event = { id = apsr_enclave.3 }
		set_country_flag = apsr_enclave_welcome	
	}
	
	option = {
		name = apsr_enclave.102.defence
		country_event = { id = apsr_enclave.4 }
		set_country_flag = apsr_enclave_welcome	
	}
}


# Окно выбора типа улучшения - дальнейшие визиты
country_event = {
	id = apsr_enclave.103
	title = "apsr_enclave.102.title"
	desc = "apsr_enclave.102.desc1"
	desc = "apsr_enclave.102.desc2"
	desc = "apsr_enclave.102.desc3"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		room = no_video_feed_room
	}
		
	immediate = {
		set_variable = {
			which = apsr_ancient_knowledge_count
			value = 0
		}	
		set_variable = {
			which = apsr_ancient_knowledge_monthly_count
			value = 0
		}	
		
		### ОТОБРАЖЕНИЕ СОБРАННОГО РЕСУРСА
		
		if = {
			limit = {
				resource_stockpile_compare = { resource = apsr_knowledge value < 100 }
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 10 
			}
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 100 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 250 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 100 
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 250 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 500 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 250 
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 500 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 750 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 500 
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 750 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 1000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 750 
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 1000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 1250 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 1000 
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 1250 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 1500 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 1250
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 1500 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 1750 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 1500
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 1750 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 2000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 1750
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 2000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 2250 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 2000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 2250 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 2500 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 2250
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 2500 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 2750 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 2500
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 2750 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 3000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 2750
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 3000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 3500 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 3000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 3500 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 4000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 3500
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 4000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 4500 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 4000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 4500 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 5000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 4500
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 5000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 5500 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 5000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 5500 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 6000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 5500
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 6000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 6500 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 6000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 6500 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 7000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 6500
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 7000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 7500 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 7000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 7500 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 8000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 7500
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 8000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 8500 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 8000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 8500 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 9000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 8500
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 9000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 9500 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 9000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 9500 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 10000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 9500
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 10000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 11000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 10000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 11000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 12000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 11000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 12000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 13000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 12000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 13000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 14000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 13000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 14000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 15000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 14000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 15000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 16000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 15000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 16000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 17000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 16000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 17000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 18000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 17000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 18000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 19000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 18000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 19000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 20000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 19000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 20000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 22000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 20000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 22000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 24000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 22000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 24000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 26000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 24000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 26000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 28000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 26000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 28000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 30000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 28000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 30000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 32000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 30000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 32000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 35000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 32000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 35000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 38000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 35000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 38000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 41000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 38000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 41000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 44000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 41000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 44000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 47000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 44000
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_stockpile_compare = { resource = apsr_knowledge value >= 47000 }
					resource_stockpile_compare = { resource = apsr_knowledge value < 50000 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 47000
			}			
		}
		else_if = {
			limit = {
				resource_stockpile_compare = { resource = apsr_knowledge value >= 50000 }
			}
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 50000
			}			
		}
		else = {
			change_variable = { 
				which = apsr_ancient_knowledge_count 
				value = 1
			}
		}
		
		### ОТОБРАЖЕНИЕ ЕЖЕМЕСЯЧНОГО ПРИРОСТА
		
		
		if = {
			limit = {
				resource_income_compare = { resource = apsr_knowledge value < 10.2 }
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 10 
			}
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 10.2 }
					resource_income_compare = { resource = apsr_knowledge value < 15 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 13 
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 15 }
					resource_income_compare = { resource = apsr_knowledge value < 20 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 15
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 20 }
					resource_income_compare = { resource = apsr_knowledge value < 25 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 20
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 25 }
					resource_income_compare = { resource = apsr_knowledge value < 30 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 25
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 30 }
					resource_income_compare = { resource = apsr_knowledge value < 35 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 30
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 35 }
					resource_income_compare = { resource = apsr_knowledge value < 40 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 35
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 40 }
					resource_income_compare = { resource = apsr_knowledge value < 45 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 40
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 45 }
					resource_income_compare = { resource = apsr_knowledge value < 50 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 45
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 50 }
					resource_income_compare = { resource = apsr_knowledge value < 55 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 50
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 55 }
					resource_income_compare = { resource = apsr_knowledge value < 60 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 55
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 60 }
					resource_income_compare = { resource = apsr_knowledge value < 65 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 60
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 65 }
					resource_income_compare = { resource = apsr_knowledge value < 70 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 65
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 70 }
					resource_income_compare = { resource = apsr_knowledge value < 75 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 70
			}
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 75 }
					resource_income_compare = { resource = apsr_knowledge value < 80 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 75
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 80 }
					resource_income_compare = { resource = apsr_knowledge value < 85 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 80
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 85 }
					resource_income_compare = { resource = apsr_knowledge value < 90 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 85
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 90 }
					resource_income_compare = { resource = apsr_knowledge value < 95 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 90
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 95 }
					resource_income_compare = { resource = apsr_knowledge value < 100 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 95
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 100 }
					resource_income_compare = { resource = apsr_knowledge value < 110 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 100
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 110 }
					resource_income_compare = { resource = apsr_knowledge value < 120 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 110
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 120 }
					resource_income_compare = { resource = apsr_knowledge value < 130 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 120
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 130 }
					resource_income_compare = { resource = apsr_knowledge value < 140 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 130
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 140 }
					resource_income_compare = { resource = apsr_knowledge value < 150 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 140
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 150 }
					resource_income_compare = { resource = apsr_knowledge value < 160 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 150
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 160 }
					resource_income_compare = { resource = apsr_knowledge value < 170 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 160
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 170 }
					resource_income_compare = { resource = apsr_knowledge value < 180 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 170
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 180 }
					resource_income_compare = { resource = apsr_knowledge value < 190 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 180
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 190 }
					resource_income_compare = { resource = apsr_knowledge value < 200 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 190
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 200 }
					resource_income_compare = { resource = apsr_knowledge value < 220 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 200
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 220 }
					resource_income_compare = { resource = apsr_knowledge value < 240 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 220
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 240 }
					resource_income_compare = { resource = apsr_knowledge value < 260 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 240
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 260 }
					resource_income_compare = { resource = apsr_knowledge value < 280 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 260
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 280 }
					resource_income_compare = { resource = apsr_knowledge value < 300 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 280
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 300 }
					resource_income_compare = { resource = apsr_knowledge value < 320 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 300
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 320 }
					resource_income_compare = { resource = apsr_knowledge value < 350 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 320
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 350 }
					resource_income_compare = { resource = apsr_knowledge value < 380 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 350
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 380 }
					resource_income_compare = { resource = apsr_knowledge value < 410 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 380
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 410 }
					resource_income_compare = { resource = apsr_knowledge value < 440 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 410
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 440 }
					resource_income_compare = { resource = apsr_knowledge value < 470 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 440
			}			
		}
		else_if = {
			limit = {
				AND = {
					resource_income_compare = { resource = apsr_knowledge value >= 470 }
					resource_income_compare = { resource = apsr_knowledge value < 500 }
				}
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 470
			}			
		}
		else_if = {
			limit = {
				resource_income_compare = { resource = apsr_knowledge value >= 500 }
			}
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 500
			}			
		}
		else = {
			change_variable = { 
				which = apsr_ancient_knowledge_monthly_count 
				value = 1
			}
		}
	}
		
	option = {
		name = apsr_enclave.102.balance
		response_text = apsr_enclave.102.balance.response
		trigger = {
			NOT = {
				AND = {
					apsr_enclave_economy_completed = yes
					apsr_enclave_science_completed = yes
					apsr_enclave_assault_completed = yes
					apsr_enclave_defence_completed = yes
				}
			}
		}
		is_dialog_only = yes
	}
		
	option = {
		name = apsr_enclave.102.economy
		trigger = {
			NOT = {
				apsr_enclave_economy_completed = yes
			}
		}
		country_event = { id = apsr_enclave.1 }
		hidden_effect = {
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
	
	option = {
		name = apsr_enclave.102.science
		trigger = {
			NOT = {
				apsr_enclave_science_completed = yes
			}
		}
		country_event = { id = apsr_enclave.2 }
		hidden_effect = {
			remove_country_flag = apsr_enclave_science_button_01_pressed
			remove_country_flag = apsr_enclave_science_button_02_pressed
			remove_country_flag = apsr_enclave_science_button_03_pressed
			remove_country_flag = apsr_enclave_science_button_04_pressed
			remove_country_flag = apsr_enclave_science_button_05_pressed
			remove_country_flag = apsr_enclave_science_button_06_pressed
			remove_country_flag = apsr_enclave_science_button_07_pressed
			remove_country_flag = apsr_enclave_science_button_08_pressed
			remove_country_flag = apsr_enclave_science_button_09_pressed
			remove_country_flag = apsr_enclave_science_button_10_pressed
			remove_country_flag = apsr_enclave_science_button_11dg_pressed
			remove_country_flag = apsr_enclave_science_button_11m_pressed
			remove_country_flag = apsr_enclave_science_button_12_pressed
			remove_country_flag = apsr_enclave_science_button_13_pressed
			remove_country_flag = apsr_enclave_science_button_14_pressed
			remove_country_flag = apsr_enclave_science_button_15_pressed
			remove_country_flag = apsr_enclave_science_button_16_pressed
			remove_country_flag = apsr_enclave_science_button_17_pressed
			remove_country_flag = apsr_enclave_science_button_18_pressed
			remove_country_flag = apsr_enclave_science_button_18ext_pressed
			remove_country_flag = apsr_enclave_science_button_19_pressed
			remove_country_flag = apsr_enclave_science_button_20_pressed
		}
	}
	
	option = {
		name = apsr_enclave.102.assault
		trigger = {
			NOT = {
				apsr_enclave_assault_completed = yes
			}
		}
		country_event = { id = apsr_enclave.3 }
		hidden_effect = {
			remove_country_flag = apsr_enclave_assault_button_01_pressed
			remove_country_flag = apsr_enclave_assault_button_02_pressed
			remove_country_flag = apsr_enclave_assault_button_03_pressed
			remove_country_flag = apsr_enclave_assault_button_04_pressed
			remove_country_flag = apsr_enclave_assault_button_05_pressed
			remove_country_flag = apsr_enclave_assault_button_06_pressed
			remove_country_flag = apsr_enclave_assault_button_07_pressed
			remove_country_flag = apsr_enclave_assault_button_08_pressed
			remove_country_flag = apsr_enclave_assault_button_09_pressed
			remove_country_flag = apsr_enclave_assault_button_10_pressed
			remove_country_flag = apsr_enclave_assault_button_11_pressed
			remove_country_flag = apsr_enclave_assault_button_12_pressed
			remove_country_flag = apsr_enclave_assault_button_13_pressed
			remove_country_flag = apsr_enclave_assault_button_14_pressed
			remove_country_flag = apsr_enclave_assault_button_15_pressed
			remove_country_flag = apsr_enclave_assault_button_15ext_pressed
			remove_country_flag = apsr_enclave_assault_button_16_pressed
			remove_country_flag = apsr_enclave_assault_button_17_pressed
			remove_country_flag = apsr_enclave_assault_button_18_pressed
			remove_country_flag = apsr_enclave_assault_button_18ext_pressed
			remove_country_flag = apsr_enclave_assault_button_19_pressed
			remove_country_flag = apsr_enclave_assault_button_20_pressed
		}
	}
	
	option = {
		name = apsr_enclave.102.defence
		trigger = {
			NOT = {
				apsr_enclave_defence_completed = yes
			}
		}
		country_event = { id = apsr_enclave.4 }
		hidden_effect = {
			remove_country_flag = apsr_enclave_defence_button_01_pressed
			remove_country_flag = apsr_enclave_defence_button_02_pressed
			remove_country_flag = apsr_enclave_defence_button_03_pressed
			remove_country_flag = apsr_enclave_defence_button_04_pressed
			remove_country_flag = apsr_enclave_defence_button_05_pressed
			remove_country_flag = apsr_enclave_defence_button_06_pressed
			remove_country_flag = apsr_enclave_defence_button_07_pressed
			remove_country_flag = apsr_enclave_defence_button_08_pressed
			remove_country_flag = apsr_enclave_defence_button_09_pressed
			remove_country_flag = apsr_enclave_defence_button_10_pressed
			remove_country_flag = apsr_enclave_defence_button_11_pressed
			remove_country_flag = apsr_enclave_defence_button_12_pressed
			remove_country_flag = apsr_enclave_defence_button_13_pressed
			remove_country_flag = apsr_enclave_defence_button_14_pressed
			remove_country_flag = apsr_enclave_defence_button_15_pressed
			remove_country_flag = apsr_enclave_defence_button_16_pressed
			remove_country_flag = apsr_enclave_defence_button_17_pressed
			remove_country_flag = apsr_enclave_defence_button_18_pressed
			remove_country_flag = apsr_enclave_defence_button_19_pressed
			remove_country_flag = apsr_enclave_defence_button_20_pressed
		}
	}
	
	option = {
		name = apsr_enclave.102.no_upgrades
		response_text = apsr_enclave.102.no_upgrades.response
		trigger = {
			AND = {
				apsr_enclave_economy_completed = yes
				apsr_enclave_science_completed = yes
				apsr_enclave_assault_completed = yes
				apsr_enclave_defence_completed = yes
			}
		}
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.102.exit
	}
}






### СБОИ СВЯЗИ ###

## Преторианцы ##

# условия показа сообщений
country_event = {
	id = apsr_enclave.110
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				AND = {
					has_country_flag = apsr_enclave_prethoryn_1
					has_country_flag = apsr_enclave_prethoryn_2
					has_country_flag = apsr_enclave_prethoryn_3
				}
			}
			country_event = { id = apsr_enclave.114 }
		}
		else_if = {
			limit = {
				AND = {
					has_country_flag = apsr_enclave_prethoryn_1
					has_country_flag = apsr_enclave_prethoryn_2
					NOT = {
						has_country_flag = apsr_enclave_prethoryn_3
					}
				}
			}
			country_event = { id = apsr_enclave.113 }
		}
		else_if = {
			limit = {
				AND = {
					has_country_flag = apsr_enclave_prethoryn_1
					NOT = {
						has_country_flag = apsr_enclave_prethoryn_2
					}
					NOT = {
						has_country_flag = apsr_enclave_prethoryn_3
					}
				}
			}
			country_event = { id = apsr_enclave.112 }
		}
		else_if = {
			limit = {
				AND = {
					NOT = {
						has_country_flag = apsr_enclave_prethoryn_1
					}
					NOT = {
						has_country_flag = apsr_enclave_prethoryn_2
					}
					NOT = {
						has_country_flag = apsr_enclave_prethoryn_3
					}
				}
			}
			country_event = { id = apsr_enclave.111 }
		}
		else = {
			country_event = { id = apsr_enclave.100 }
		}
	}
}

# Первое посещение
country_event = {
	id = apsr_enclave.111
	title = "apsr_enclave.111.title"
	desc = "apsr_enclave.111.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = swarm1
		room = "swarm_room"
	}
		
	immediate = {		
		set_country_flag = apsr_enclave_prethoryn_1
	}
	
	option = {
		name = apsr_enclave.111.button1
		response_text = apsr_enclave.111.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.111.button2
		response_text = apsr_enclave.111.button2.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.111.exit
	}
}

# Второе посещение
country_event = {
	id = apsr_enclave.112
	title = "apsr_enclave.112.title"
	desc = "apsr_enclave.112.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = swarm1
		room = "swarm_room"
	}
		
	immediate = {		
		set_country_flag = apsr_enclave_prethoryn_2
	}
	
	option = {
		name = apsr_enclave.112.button1
		response_text = apsr_enclave.112.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.112.exit
	}
}

# Третье посещение
country_event = {
	id = apsr_enclave.113
	title = "apsr_enclave.113.title"
	desc = "apsr_enclave.113.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = swarm1
		room = "swarm_room"
	}
		
	immediate = {		
		set_country_flag = apsr_enclave_prethoryn_3
	}
	
	option = {
		name = apsr_enclave.113.button1
		response_text = apsr_enclave.113.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.113.exit
	}
}

# Последнее посещение - вызывает кризис
country_event = {
	id = apsr_enclave.114
	title = "apsr_enclave.114.title"
	desc = "apsr_enclave.114.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = swarm1
		room = "swarm_room"
	}
		
	immediate = {	
		set_country_flag = apsr_enclave_prethoryn_caller		
		country_event = { id = crisis.10 days = 1800 random = 1800 }
		set_global_flag = apsr_enclave_prethoryn_on_the_way
	}
	
	option = {
		name = apsr_enclave.114.button1
		response_text = apsr_enclave.114.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.114.exit
	}
}





## Незванные ##

# условия показа сообщений
country_event = {
	id = apsr_enclave.120
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				AND = {
					has_country_flag = apsr_enclave_extradimensional_1
					has_country_flag = apsr_enclave_extradimensional_2
					has_country_flag = apsr_enclave_extradimensional_3
				}
			}
			country_event = { id = apsr_enclave.124 }
		}
		else_if = {
			limit = {
				AND = {
					has_country_flag = apsr_enclave_extradimensional_1
					has_country_flag = apsr_enclave_extradimensional_2
					NOT = {
						has_country_flag = apsr_enclave_extradimensional_3
					}
				}
			}
			country_event = { id = apsr_enclave.123 }
		}
		else_if = {
			limit = {
				AND = {
					has_country_flag = apsr_enclave_extradimensional_1
					NOT = {
						has_country_flag = apsr_enclave_extradimensional_2
					}
					NOT = {
						has_country_flag = apsr_enclave_extradimensional_3
					}
				}
			}
			country_event = { id = apsr_enclave.122 }
		}
		else_if = {
			limit = {
				AND = {
					NOT = {
						has_country_flag = apsr_enclave_extradimensional_1
					}
					NOT = {
						has_country_flag = apsr_enclave_extradimensional_2
					}
					NOT = {
						has_country_flag = apsr_enclave_extradimensional_3
					}
				}
			}
			country_event = { id = apsr_enclave.121 }
		}
		else = {
			country_event = { id = apsr_enclave.100 }
		}
	}
}

# Первое посещение
country_event = {
	id = apsr_enclave.121
	title = "apsr_enclave.121.title"
	desc = "apsr_enclave.121.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = exd1
		room = "extradimensional_room"
	}
		
	immediate = {		
		set_country_flag = apsr_enclave_extradimensional_1
	}
	
	option = {
		name = apsr_enclave.121.button1
		response_text = apsr_enclave.121.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.121.button2
		response_text = apsr_enclave.121.button2.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.121.button3
		response_text = apsr_enclave.121.button3.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.121.exit
	}
}

# Второе посещение
country_event = {
	id = apsr_enclave.122
	title = "apsr_enclave.122.title"
	desc = "apsr_enclave.122.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = exd1
		room = "extradimensional_room"
	}
		
	immediate = {		
		set_country_flag = apsr_enclave_extradimensional_2
	}
	
	option = {
		name = apsr_enclave.122.button1
		response_text = apsr_enclave.122.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.122.button2
		response_text = apsr_enclave.122.button2.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.122.exit
	}
}

# Третье посещение
country_event = {
	id = apsr_enclave.123
	title = "apsr_enclave.123.title"
	desc = "apsr_enclave.123.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = exd1
		room = "extradimensional_room"
	}
		
	immediate = {		
		set_country_flag = apsr_enclave_extradimensional_3
	}
	
	option = {
		name = apsr_enclave.123.button1
		response_text = apsr_enclave.123.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.123.exit
	}
}

# Последнее посещение - вызывает кризис
country_event = {
	id = apsr_enclave.124
	title = "apsr_enclave.124.title"
	desc = "apsr_enclave.124.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = exd1
		room = "extradimensional_room"
	}
		
	immediate = {	
		set_country_flag = apsr_enclave_extradimensional_caller	
		country_event = { id = crisis.1000 days = 1800 random = 1800 }
		set_global_flag = apsr_enclave_extradimensional_on_the_way
	}
	
	option = {
		name = apsr_enclave.124.button1
		response_text = apsr_enclave.124.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.124.exit
	}
}





## Контингенция ##

# условия показа сообщений
country_event = {
	id = apsr_enclave.130
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				AND = {
					has_country_flag = apsr_enclave_ai_1
					has_country_flag = apsr_enclave_ai_2
					has_country_flag = apsr_enclave_ai_3
				}
			}
			country_event = { id = apsr_enclave.134 }
		}
		else_if = {
			limit = {
				AND = {
					has_country_flag = apsr_enclave_ai_1
					has_country_flag = apsr_enclave_ai_2
					NOT = {
						has_country_flag = apsr_enclave_ai_3
					}
				}
			}
			country_event = { id = apsr_enclave.133 }
		}
		else_if = {
			limit = {
				AND = {
					has_country_flag = apsr_enclave_ai_1
					NOT = {
						has_country_flag = apsr_enclave_ai_2
					}
					NOT = {
						has_country_flag = apsr_enclave_ai_3
					}
				}
			}
			country_event = { id = apsr_enclave.132 }
		}
		else_if = {
			limit = {
				AND = {
					NOT = {
						has_country_flag = apsr_enclave_ai_1
					}
					NOT = {
						has_country_flag = apsr_enclave_ai_2
					}
					NOT = {
						has_country_flag = apsr_enclave_ai_3
					}
				}
			}
			country_event = { id = apsr_enclave.131 }
		}
		else = {
			country_event = { id = apsr_enclave.100 }
		}
	}
}

# Первое посещение
country_event = {
	id = apsr_enclave.131
	title = "apsr_enclave.131.title"
	desc = "apsr_enclave.131.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = ai_crisis_2
		room = ethic_spaceship_room
	}
		
	immediate = {		
		set_country_flag = apsr_enclave_ai_1
	}
	
	option = {
		name = apsr_enclave.131.button1
		response_text = apsr_enclave.131.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.131.button2
		response_text = apsr_enclave.131.button2.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.131.button3
		response_text = apsr_enclave.131.button3.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.131.exit
	}
}

# Второе посещение
country_event = {
	id = apsr_enclave.132
	title = "apsr_enclave.132.title"
	desc = "apsr_enclave.132.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = ai_crisis_2
		room = ethic_spaceship_room
	}
		
	immediate = {		
		set_country_flag = apsr_enclave_ai_2
	}
	
	option = {
		name = apsr_enclave.132.button1
		response_text = apsr_enclave.132.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.132.exit
	}
}

# Третье посещение
country_event = {
	id = apsr_enclave.133
	title = "apsr_enclave.133.title"
	desc = "apsr_enclave.133.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = ai_crisis_2
		room = ethic_spaceship_room
	}
		
	immediate = {		
		set_country_flag = apsr_enclave_ai_3
	}
	
	option = {
		name = apsr_enclave.133.button1
		response_text = apsr_enclave.133.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.133.exit
	}
}

# Последнее посещение - вызывает кризис
country_event = {
	id = apsr_enclave.134
	title = "apsr_enclave.134.title"
	desc = "apsr_enclave.134.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = ai_crisis_1
		room = ethic_spaceship_room
	}
		
	immediate = {		
		set_country_flag = apsr_enclave_ai_caller	
		country_event = { id = crisis.2005 days = 1800 random = 1800 }
		if = {
			limit = {
				NOT = {
					any_planet = {
						has_planet_flag = machine_world_1
					}
				}
			}
			random_planet = {
				limit = {
					AND = {
						NOT = {
							OR = {
								has_apsr_modifiers = yes
								has_planet_flag = apsr_planet
							}
						}
						is_planet_class = pc_barren
						is_moon = no
					}
				}
				set_planet_flag = machine_world_1
			}
		}
		if = {
			limit = {
				NOT = {
					any_planet = {
						has_planet_flag = machine_world_2
					}
				}
			}
			random_planet = {
				limit = {
					AND = {
						NOT = {
							OR = {
								has_apsr_modifiers = yes
								has_planet_flag = apsr_planet
							}
						}
						is_planet_class = pc_molten
						is_moon = no
					}
				}
				set_planet_flag = machine_world_2
			}
		}
		if = {
			limit = {
				NOT = {
					any_planet = {
						has_planet_flag = machine_world_3
					}
				}
			}
			random_planet = {
				limit = {
					AND = {
						NOT = {
							OR = {
								has_apsr_modifiers = yes
								has_planet_flag = apsr_planet
							}
						}
						is_planet_class = pc_gas_giant
						is_moon = no
					}
				}
				set_planet_flag = machine_world_3
			}
		}
		if = {
			limit = {
				NOT = {
					any_planet = {
						has_planet_flag = machine_world_4
					}
				}
			}
			random_planet = {
				limit = {
					AND = {
						NOT = {
							OR = {
								has_apsr_modifiers = yes
								has_planet_flag = apsr_planet
							}
						}
						is_planet_class = pc_toxic
						is_moon = no
					}
				}
				set_planet_flag = machine_world_4
			}
		}
		set_global_flag = apsr_enclave_ai_on_the_way
	}
	
	option = {
		name = apsr_enclave.134.button1
		response_text = apsr_enclave.134.button1.response
		is_dialog_only = yes
	}
	
	option = {
		name = apsr_enclave.134.exit
	}
}





### ТЕРМИНАЛ 

# 200 - Терминал - Получение координат проекта с Терминалом
country_event = {
	id = apsr_enclave.200
	title = "apsr_enclave.200.title"
	desc = "apsr_enclave.200.desc"
	picture = GFX_apsr_terminal_anomaly
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes

	immediate = {
		random_system = {
			limit = {
				any_system_planet = {
					is_star = no
					is_colony = no
					is_capital = no
					habitable_structure = no
					is_asteroid = no
					NOT = { is_planet_class = pc_gas_giant }
				}
			}
			random_system_planet = {
				limit = {
					is_star = no
					is_colony = no
					is_capital = no
					habitable_structure = no
					is_asteroid = no
					NOT = { is_planet_class = pc_gas_giant }
				}
				save_event_target_as = apsr_terminal_site_relic
			}		
		}
	}
	
	option = {
		name = apsr_enclave.200.button
		custom_tooltip = apsr_enclave.200.button.tooltip
		enable_special_project = {
			name = "apsr_terminal_site_relic"
			location = event_target:apsr_terminal_site_relic
			owner = root
		}
	}
}

# 209 - Изучение проекта - получение Терминала
ship_event = {
	id = apsr_enclave.209
	title = "apsr_enclave.209.title"
	desc = {
		trigger = {
			owner = {
				AND = {
					NOT = {
						apsr_terminal_has_any_code_info = yes
					}
					NOT = {
						has_relic = relic_apsr_terminal
					}
				}
			}
		}
		text = "apsr_enclave.209.desc1"
	}
	desc = {
		trigger = {
			owner = {
				AND = {
					apsr_terminal_has_any_code_info = yes
					NOT = {
						has_relic = relic_apsr_terminal
					}
				}
			}
		}
		text = "apsr_enclave.209.desc2"
	}
	desc = {
		trigger = {
			owner = {
				has_relic = relic_apsr_terminal
			}
		}
		text = "apsr_enclave.209.desc3"
	}
	picture = GFX_apsr_terminal_anomaly
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = apsr_enclave.209.button1
		custom_tooltip = apsr_enclave.209.button1.tooltip
		trigger = {
			owner = {
				AND = {
					NOT = {
						apsr_terminal_has_any_code_info = yes
					}
					NOT = {
						has_relic = relic_apsr_terminal
					}
				}
			}
		}
		hidden_effect = {
			owner = {
				add_relic = relic_apsr_terminal
			}
		}
	}
	
	option = {
		name = apsr_enclave.209.button2
		custom_tooltip = apsr_enclave.209.button2.tooltip
		trigger = {
			owner = {
				AND = {
					apsr_terminal_has_any_code_info = yes
					NOT = {
						has_relic = relic_apsr_terminal
					}
				}
			}
		}
		hidden_effect = {
			owner = {
				add_relic = relic_apsr_terminal
			}
		}
	}
	
	option = {
		name = apsr_enclave.209.button3
		custom_tooltip = apsr_enclave.209.button3.tooltip
		trigger = {
			owner = {
				has_relic = relic_apsr_terminal
			}
		}
		hidden_effect = {
			owner = {
				apsr_terminal_reward_code_level_5 = yes
			}
		}
	}
}


# 201-205 - Терминал - получение кода для реликвии
# Получение кода - уровень 1
country_event = {
	id = apsr_enclave.201
	title = "apsr_enclave.201.title"
	desc = {
		trigger = {
			NOT = {
				has_relic = relic_apsr_terminal
			}
		}
		text = "apsr_enclave.201.desc1"
	}
	desc = {
		trigger = {
			has_relic = relic_apsr_terminal
		}
		text = "apsr_enclave.201.desc2"
	}
	picture = GFX_apsr_terminal_reward
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
	
	option = {
		name = apsr_enclave.201.button1
		custom_tooltip = apsr_enclave.201.button1.tooltip
		trigger = {
			NOT = {
				has_relic = relic_apsr_terminal
			}
		}
		hidden_effect = {
			apsr_terminal_reward_code_level_1 = yes
		}
	}
	
	option = {
		name = apsr_enclave.201.button2
		custom_tooltip = apsr_enclave.201.button2.tooltip
		trigger = {
			has_relic = relic_apsr_terminal
		}
		hidden_effect = {
			apsr_terminal_reward_code_level_1 = yes
		}
	}
}

# Получение кода - уровень 2
country_event = {
	id = apsr_enclave.202
	title = "apsr_enclave.202.title"
	desc = {
		trigger = {
			NOT = {
				has_relic = relic_apsr_terminal
			}
		}
		text = "apsr_enclave.202.desc1"
	}
	desc = {
		trigger = {
			has_relic = relic_apsr_terminal
		}
		text = "apsr_enclave.202.desc2"
	}
	picture = GFX_apsr_terminal_reward
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
	
	option = {
		name = apsr_enclave.202.button1
		custom_tooltip = apsr_enclave.202.button1.tooltip
		trigger = {
			NOT = {
				has_relic = relic_apsr_terminal
			}
		}
		hidden_effect = {
			apsr_terminal_reward_code_level_2 = yes
		}
	}
	
	option = {
		name = apsr_enclave.202.button2
		custom_tooltip = apsr_enclave.202.button2.tooltip
		trigger = {
			has_relic = relic_apsr_terminal
		}
		hidden_effect = {
			apsr_terminal_reward_code_level_2 = yes
		}
	}
}

# Получение кода - уровень 3
country_event = {
	id = apsr_enclave.203
	title = "apsr_enclave.203.title"
	desc = {
		trigger = {
			NOT = {
				has_relic = relic_apsr_terminal
			}
		}
		text = "apsr_enclave.203.desc1"
	}
	desc = {
		trigger = {
			has_relic = relic_apsr_terminal
		}
		text = "apsr_enclave.203.desc2"
	}
	picture = GFX_apsr_terminal_reward
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
	
	option = {
		name = apsr_enclave.203.button1
		custom_tooltip = apsr_enclave.203.button1.tooltip
		trigger = {
			NOT = {
				has_relic = relic_apsr_terminal
			}
		}
		hidden_effect = {
			apsr_terminal_reward_code_level_3 = yes
		}
	}
	
	option = {
		name = apsr_enclave.203.button2
		custom_tooltip = apsr_enclave.203.button2.tooltip
		trigger = {
			has_relic = relic_apsr_terminal
		}
		hidden_effect = {
			apsr_terminal_reward_code_level_3 = yes
		}
	}
}

# Получение кода - уровень 4
country_event = {
	id = apsr_enclave.204
	title = "apsr_enclave.204.title"
	desc = {
		trigger = {
			NOT = {
				has_relic = relic_apsr_terminal
			}
		}
		text = "apsr_enclave.204.desc1"
	}
	desc = {
		trigger = {
			has_relic = relic_apsr_terminal
		}
		text = "apsr_enclave.204.desc2"
	}
	picture = GFX_apsr_terminal_reward
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
	
	option = {
		name = apsr_enclave.204.button1
		custom_tooltip = apsr_enclave.204.button1.tooltip
		trigger = {
			NOT = {
				has_relic = relic_apsr_terminal
			}
		}
		hidden_effect = {
			apsr_terminal_reward_code_level_4 = yes
		}
	}
	
	option = {
		name = apsr_enclave.204.button2
		custom_tooltip = apsr_enclave.204.button2.tooltip
		trigger = {
			has_relic = relic_apsr_terminal
		}
		hidden_effect = {
			apsr_terminal_reward_code_level_4 = yes
		}
	}
}

# Получение кода - уровень 5
country_event = {
	id = apsr_enclave.205
	title = "apsr_enclave.205.title"
	desc = {
		trigger = {
			NOT = {
				has_relic = relic_apsr_terminal
			}
		}
		text = "apsr_enclave.205.desc1"
	}
	desc = {
		trigger = {
			has_relic = relic_apsr_terminal
		}
		text = "apsr_enclave.205.desc2"
	}
	picture = GFX_apsr_terminal_reward
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
	
	option = {
		name = apsr_enclave.205.button1
		custom_tooltip = apsr_enclave.205.button1.tooltip
		trigger = {
			NOT = {
				has_relic = relic_apsr_terminal
			}
		}
		hidden_effect = {
			apsr_terminal_reward_code_level_5 = yes
		}
	}
	
	option = {
		name = apsr_enclave.205.button2
		custom_tooltip = apsr_enclave.205.button2.tooltip
		trigger = {
			has_relic = relic_apsr_terminal
		}
		hidden_effect = {
			apsr_terminal_reward_code_level_5 = yes
		}
	}
}





### УГАСШИЕ ###

# Запуск
country_event = {
	id = apsr_enclave.211
	title = "apsr_enclave.211.title"
	desc = "apsr_enclave.211.desc"
	
	diplomatic = yes
#	force_open = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		room = no_video_feed_room
	}
		
	immediate = {		
		set_country_flag = apsr_enclave_ancient_fact_01
		random_country = {
			limit = {
				is_country_type = fallen_empire
				NOT = { has_ethic = ethic_gestalt_consciousness }
				NOT = { is_at_war_with = root }
				has_communications = root
			}
			save_event_target_as = apsr_enclave_ancient_fact_01_fallen_empire
		}
	}
	
	option = {
		name = apsr_enclave.211.button1
		custom_tooltip = apsr_enclave.211.button1.tooltip
		hidden_effect = {
			country_event = { id = apsr_enclave.212 }
		}
	}
	
	option = {
		name = apsr_enclave.211.exit
		custom_tooltip = apsr_enclave.211.exit.tooltip
	}
}

# Получение информации что это Угасшая
country_event = {
	id = apsr_enclave.212
	title = "apsr_enclave.212.title"
	desc = "apsr_enclave.212.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		room = no_video_feed_room
	}
	
	option = {
		name = apsr_enclave.212.button1
		custom_tooltip = apsr_enclave.212.button1.tooltip
		hidden_effect = {
			country_event = { id = apsr_enclave.213 }
		}
	}
	
	option = {
		name = apsr_enclave.212.exit
		custom_tooltip = apsr_enclave.212.exit.tooltip
	}
}

# Подслушивание - 01
country_event = {
	id = apsr_enclave.213
	title = "apsr_enclave.213.title"
	desc = "apsr_enclave.213.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		room = no_video_feed_room
	}
	
	immediate = {
		set_variable = {
			which = apsr_enclave_ancient_fact_01_reward
			value = 0
		}
	}
	
	option = {
		name = apsr_enclave.213.button1
		custom_tooltip = apsr_enclave.213.button1.tooltip
		hidden_effect = {
			country_event = { id = apsr_enclave.214 }
		}
	}
	
	option = {
		name = apsr_enclave.213.exit
		custom_tooltip = apsr_enclave.213.exit.tooltip
		hidden_effect = {
			change_variable = { which = apsr_enclave_ancient_fact_01_reward value = 5 }
			country_event = { id = apsr_enclave.219 }
		}
	}
}

# Подслушивание - 02
country_event = {
	id = apsr_enclave.214
	title = "apsr_enclave.214.title"
	desc = "apsr_enclave.214.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		room = no_video_feed_room
	}
	
	option = {
		name = apsr_enclave.214.button1
		custom_tooltip = apsr_enclave.214.button1.tooltip
		hidden_effect = {
			country_event = { id = apsr_enclave.215 }
		}
	}
	
	option = {
		name = apsr_enclave.214.exit
		custom_tooltip = apsr_enclave.214.exit.tooltip
		hidden_effect = {
			change_variable = { which = apsr_enclave_ancient_fact_01_reward value = 10 }
			country_event = { id = apsr_enclave.219 }
		}
	}
}

# Подслушивание - 03
country_event = {
	id = apsr_enclave.215
	title = "apsr_enclave.215.title"
	desc = "apsr_enclave.215.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		room = no_video_feed_room
	}
	
	option = {
		name = apsr_enclave.215.button1
		custom_tooltip = apsr_enclave.215.button1.tooltip
		hidden_effect = {
			country_event = { id = apsr_enclave.216 }
		}
	}
	
	option = {
		name = apsr_enclave.215.exit
		custom_tooltip = apsr_enclave.215.exit.tooltip
		hidden_effect = {
			change_variable = { which = apsr_enclave_ancient_fact_01_reward value = 15 }
			country_event = { id = apsr_enclave.219 }
		}
	}
}

# Подслушивание - 04
country_event = {
	id = apsr_enclave.216
	title = "apsr_enclave.216.title"
	desc = "apsr_enclave.216.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		room = no_video_feed_room
	}
	
	option = {
		name = apsr_enclave.216.button1
		custom_tooltip = apsr_enclave.216.button1.tooltip
		hidden_effect = {
			country_event = { id = apsr_enclave.217 }
		}
	}
	
	option = {
		name = apsr_enclave.216.exit
		custom_tooltip = apsr_enclave.216.exit.tooltip
		hidden_effect = {
			change_variable = { which = apsr_enclave_ancient_fact_01_reward value = 5 }
			country_event = { id = apsr_enclave.219 }
# отношение стороны угасших в Войне = -1 ###APSR3
		}
	}
}

# Подслушивание - 05
country_event = {
	id = apsr_enclave.217
	title = "apsr_enclave.217.title"
	desc = "apsr_enclave.217.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		room = no_video_feed_room
	}
	
	option = {
		name = apsr_enclave.217.button1
		custom_tooltip = apsr_enclave.217.button1.tooltip
		hidden_effect = {
			country_event = { id = apsr_enclave.218 }
		}
	}
	
	option = {
		name = apsr_enclave.217.exit
		custom_tooltip = apsr_enclave.217.exit.tooltip
		hidden_effect = {
			change_variable = { which = apsr_enclave_ancient_fact_01_reward value = 20 }
			country_event = { id = apsr_enclave.219 }
# отношение стороны угасших в Войне = +1 ###APSR3
		}
	}
}

# Подслушивание - 06
country_event = {
	id = apsr_enclave.218
	title = "apsr_enclave.218.title"
	desc = "apsr_enclave.218.desc"
	
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		room = no_video_feed_room
	}
	
	option = {
		name = apsr_enclave.218.exit
		custom_tooltip = apsr_enclave.218.exit.tooltip
		hidden_effect = {
			change_variable = { which = apsr_enclave_ancient_fact_01_reward value = 20 }
			country_event = { id = apsr_enclave.219 }
# отношение стороны угасших в Войне = -1 ###APSR3
		}
	}
}

# Результат анализа информации
country_event = {
	id = apsr_enclave.219
	title = "apsr_enclave.219.title"
	desc = "apsr_enclave.219.desc"
	picture = GFX_evt_fallen_empire_awakes
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
	
	option = {
		name = apsr_enclave.219.button
		custom_tooltip = apsr_enclave.219.button.tooltip
		if = {
			limit = {
				check_variable = {
					which = apsr_enclave_ancient_fact_01_reward
					value = 20
				}
			}
			add_modifier = {
				modifier = "apsr_enclave_ancient_fact_01_bonus_20"
				days = 3600
			}			
		}
		else_if = {
			limit = {
				check_variable = {
					which = apsr_enclave_ancient_fact_01_reward
					value = 15
				}
			}
			add_modifier = {
				modifier = "apsr_enclave_ancient_fact_01_bonus_15"
				days = 3600
			}			
		}
		else_if = {
			limit = {
				check_variable = {
					which = apsr_enclave_ancient_fact_01_reward
					value = 10
				}
			}
			add_modifier = {
				modifier = "apsr_enclave_ancient_fact_01_bonus_10"
				days = 3600
			}			
		}
		else_if = {
			limit = {
				check_variable = {
					which = apsr_enclave_ancient_fact_01_reward
					value = 5
				}
			}
			add_modifier = {
				modifier = "apsr_enclave_ancient_fact_01_bonus_5"
				days = 3600
			}			
		}
		else = {
			add_modifier = {
				modifier = "apsr_enclave_ancient_fact_01_bonus_5"
				days = 3600
			}	
		}
		hidden_effect = {
			set_country_flag = apsr_enclave_ancient_fact_01_complete
		}
	}
}





### УКАЗ "ИЗУЧЕНИЕ ДРЕВНИХ" ###

# Запуск
country_event = {
	id = apsr_enclave.300
	title = "apsr_enclave.300.title"
	desc = "apsr_enclave.300.desc"
	picture = GFX_apsr_planet_view
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
			
	immediate = {
		random_list = {
			10 = {
				country_event = { id = apsr_enclave.399 days = 1000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 3000 }
			}
		}
	}
	
	option = {
		name = apsr_enclave.300.close
		custom_tooltip = apsr_enclave.300.close.tooltip
	}
}

# система выдачи случайных сообщений
country_event = {
	id = apsr_enclave.399
	hide_window = yes
	is_triggered_only = yes
			
	immediate = {
		if = {
			limit = {
				has_edict = apsr_enclave_science_16_edict
			}
			random_list = {
				10 = {
					country_event = { id = apsr_enclave.301 days = 5 }
				}
				10 = {
					country_event = { id = apsr_enclave.302 days = 5 }
				}
				10 = {
					country_event = { id = apsr_enclave.303 days = 5 }
				}
				10 = {
					country_event = { id = apsr_enclave.304 days = 5 }
				}
				10 = {
					country_event = { id = apsr_enclave.305 days = 5 }
				}
				10 = {
					country_event = { id = apsr_enclave.306 days = 5 }
				}
				10 = {
					country_event = { id = apsr_enclave.307 days = 5 }
				}
				10 = {
					country_event = { id = apsr_enclave.308 days = 5 }
				}
				10 = {
					country_event = { id = apsr_enclave.309 days = 5 }
				}
				10 = {
					country_event = { id = apsr_enclave.310 days = 5 }
				}
			}
		}
	}
}

# Находка 1
country_event = {
	id = apsr_enclave.301
	title = "apsr_enclave.301.title"
	desc = "apsr_enclave.301.desc"
	picture = GFX_apsr_planet_view
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
			
	immediate = {
		random_list = {
			10 = {
				country_event = { id = apsr_enclave.399 days = 1000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 3000 }
			}
		}
	}
	
	option = {
		name = apsr_enclave.301.close
		random_list = {
			10 = {
				add_resource = { apsr_knowledge = 100 }
			}
			10 = {
				add_resource = { apsr_knowledge = 120 }
			}
			10 = {
				add_resource = { apsr_knowledge = 140 }
			}
			10 = {
				add_resource = { apsr_knowledge = 160 }
			}
			10 = {
				add_resource = { apsr_knowledge = 180 }
			}
			10 = {
				add_resource = { apsr_knowledge = 200 }
			}
			10 = {
				add_resource = { apsr_knowledge = 220 }
			}
			10 = {
				add_resource = { apsr_knowledge = 240 }
			}
			10 = {
				add_resource = { apsr_knowledge = 260 }
			}
			10 = {
				add_resource = { apsr_knowledge = 280 }
			}
			10 = {
				add_resource = { apsr_knowledge = 300 }
			}
		}
	}
}

# Находка 2
country_event = {
	id = apsr_enclave.302
	title = "apsr_enclave.302.title"
	desc = "apsr_enclave.302.desc"
	picture = GFX_apsr_planet_view
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
			
	immediate = {
		random_list = {
			10 = {
				country_event = { id = apsr_enclave.399 days = 1000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 3000 }
			}
		}
	}
	
	option = {
		name = apsr_enclave.302.close
		random_list = {
			10 = {
				add_resource = { apsr_knowledge = 100 }
			}
			10 = {
				add_resource = { apsr_knowledge = 120 }
			}
			10 = {
				add_resource = { apsr_knowledge = 140 }
			}
			10 = {
				add_resource = { apsr_knowledge = 160 }
			}
			10 = {
				add_resource = { apsr_knowledge = 180 }
			}
			10 = {
				add_resource = { apsr_knowledge = 200 }
			}
			10 = {
				add_resource = { apsr_knowledge = 220 }
			}
			10 = {
				add_resource = { apsr_knowledge = 240 }
			}
			10 = {
				add_resource = { apsr_knowledge = 260 }
			}
			10 = {
				add_resource = { apsr_knowledge = 280 }
			}
			10 = {
				add_resource = { apsr_knowledge = 300 }
			}
		}
	}
}

# Находка 3
country_event = {
	id = apsr_enclave.303
	title = "apsr_enclave.303.title"
	desc = "apsr_enclave.303.desc"
	picture = GFX_apsr_planet_view
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
			
	immediate = {
		random_list = {
			10 = {
				country_event = { id = apsr_enclave.399 days = 1000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 3000 }
			}
		}
	}
	
	option = {
		name = apsr_enclave.303.close
		random_list = {
			10 = {
				add_resource = { apsr_knowledge = 100 }
			}
			10 = {
				add_resource = { apsr_knowledge = 120 }
			}
			10 = {
				add_resource = { apsr_knowledge = 140 }
			}
			10 = {
				add_resource = { apsr_knowledge = 160 }
			}
			10 = {
				add_resource = { apsr_knowledge = 180 }
			}
			10 = {
				add_resource = { apsr_knowledge = 200 }
			}
			10 = {
				add_resource = { apsr_knowledge = 220 }
			}
			10 = {
				add_resource = { apsr_knowledge = 240 }
			}
			10 = {
				add_resource = { apsr_knowledge = 260 }
			}
			10 = {
				add_resource = { apsr_knowledge = 280 }
			}
			10 = {
				add_resource = { apsr_knowledge = 300 }
			}
		}
	}
}

# Находка 4
country_event = {
	id = apsr_enclave.304
	title = "apsr_enclave.304.title"
	desc = "apsr_enclave.304.desc"
	picture = GFX_apsr_planet_view
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
			
	immediate = {
		random_list = {
			10 = {
				country_event = { id = apsr_enclave.399 days = 1000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 3000 }
			}
		}
	}
	
	option = {
		name = apsr_enclave.304.close
		random_list = {
			10 = {
				add_resource = { apsr_knowledge = 100 }
			}
			10 = {
				add_resource = { apsr_knowledge = 120 }
			}
			10 = {
				add_resource = { apsr_knowledge = 140 }
			}
			10 = {
				add_resource = { apsr_knowledge = 160 }
			}
			10 = {
				add_resource = { apsr_knowledge = 180 }
			}
			10 = {
				add_resource = { apsr_knowledge = 200 }
			}
			10 = {
				add_resource = { apsr_knowledge = 220 }
			}
			10 = {
				add_resource = { apsr_knowledge = 240 }
			}
			10 = {
				add_resource = { apsr_knowledge = 260 }
			}
			10 = {
				add_resource = { apsr_knowledge = 280 }
			}
			10 = {
				add_resource = { apsr_knowledge = 300 }
			}
		}
	}
}

# Находка 5
country_event = {
	id = apsr_enclave.305
	title = "apsr_enclave.305.title"
	desc = "apsr_enclave.305.desc"
	picture = GFX_apsr_planet_view
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
			
	immediate = {
		random_list = {
			10 = {
				country_event = { id = apsr_enclave.399 days = 1000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 3000 }
			}
		}
	}
	
	option = {
		name = apsr_enclave.305.close
		random_list = {
			10 = {
				add_resource = { apsr_knowledge = 100 }
			}
			10 = {
				add_resource = { apsr_knowledge = 120 }
			}
			10 = {
				add_resource = { apsr_knowledge = 140 }
			}
			10 = {
				add_resource = { apsr_knowledge = 160 }
			}
			10 = {
				add_resource = { apsr_knowledge = 180 }
			}
			10 = {
				add_resource = { apsr_knowledge = 200 }
			}
			10 = {
				add_resource = { apsr_knowledge = 220 }
			}
			10 = {
				add_resource = { apsr_knowledge = 240 }
			}
			10 = {
				add_resource = { apsr_knowledge = 260 }
			}
			10 = {
				add_resource = { apsr_knowledge = 280 }
			}
			10 = {
				add_resource = { apsr_knowledge = 300 }
			}
		}
	}
}

# Находка 6
country_event = {
	id = apsr_enclave.306
	title = "apsr_enclave.306.title"
	desc = "apsr_enclave.306.desc"
	picture = GFX_apsr_planet_view
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
			
	immediate = {
		random_list = {
			10 = {
				country_event = { id = apsr_enclave.399 days = 1000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 3000 }
			}
		}
	}
	
	option = {
		name = apsr_enclave.306.close
		random_list = {
			10 = {
				add_resource = { apsr_knowledge = 100 }
			}
			10 = {
				add_resource = { apsr_knowledge = 120 }
			}
			10 = {
				add_resource = { apsr_knowledge = 140 }
			}
			10 = {
				add_resource = { apsr_knowledge = 160 }
			}
			10 = {
				add_resource = { apsr_knowledge = 180 }
			}
			10 = {
				add_resource = { apsr_knowledge = 200 }
			}
			10 = {
				add_resource = { apsr_knowledge = 220 }
			}
			10 = {
				add_resource = { apsr_knowledge = 240 }
			}
			10 = {
				add_resource = { apsr_knowledge = 260 }
			}
			10 = {
				add_resource = { apsr_knowledge = 280 }
			}
			10 = {
				add_resource = { apsr_knowledge = 300 }
			}
		}
	}
}

# Находка 7
country_event = {
	id = apsr_enclave.307
	title = "apsr_enclave.307.title"
	desc = "apsr_enclave.307.desc"
	picture = GFX_apsr_planet_view
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
			
	immediate = {
		random_list = {
			10 = {
				country_event = { id = apsr_enclave.399 days = 1000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 3000 }
			}
		}
	}
	
	option = {
		name = apsr_enclave.307.close
		random_list = {
			10 = {
				add_resource = { apsr_knowledge = 100 }
			}
			10 = {
				add_resource = { apsr_knowledge = 120 }
			}
			10 = {
				add_resource = { apsr_knowledge = 140 }
			}
			10 = {
				add_resource = { apsr_knowledge = 160 }
			}
			10 = {
				add_resource = { apsr_knowledge = 180 }
			}
			10 = {
				add_resource = { apsr_knowledge = 200 }
			}
			10 = {
				add_resource = { apsr_knowledge = 220 }
			}
			10 = {
				add_resource = { apsr_knowledge = 240 }
			}
			10 = {
				add_resource = { apsr_knowledge = 260 }
			}
			10 = {
				add_resource = { apsr_knowledge = 280 }
			}
			10 = {
				add_resource = { apsr_knowledge = 300 }
			}
		}
	}
}

# Находка 8
country_event = {
	id = apsr_enclave.308
	title = "apsr_enclave.308.title"
	desc = "apsr_enclave.308.desc"
	picture = GFX_apsr_planet_view
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
			
	immediate = {
		random_list = {
			10 = {
				country_event = { id = apsr_enclave.399 days = 1000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 3000 }
			}
		}
	}
	
	option = {
		name = apsr_enclave.308.close
		random_list = {
			10 = {
				add_resource = { minor_artifacts = 10 }
			}
			10 = {
				add_resource = { minor_artifacts = 12 }
			}
			10 = {
				add_resource = { minor_artifacts = 14 }
			}
			10 = {
				add_resource = { minor_artifacts = 16 }
			}
			10 = {
				add_resource = { minor_artifacts = 18 }
			}
			10 = {
				add_resource = { minor_artifacts = 20 }
			}
			10 = {
				add_resource = { minor_artifacts = 22 }
			}
			10 = {
				add_resource = { minor_artifacts = 24 }
			}
			10 = {
				add_resource = { minor_artifacts = 26 }
			}
			10 = {
				add_resource = { minor_artifacts = 28 }
			}
			10 = {
				add_resource = { minor_artifacts = 30 }
			}
		}
	}
}

# Находка 9
country_event = {
	id = apsr_enclave.309
	title = "apsr_enclave.309.title"
	desc = "apsr_enclave.309.desc"
	picture = GFX_apsr_planet_view
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
			
	immediate = {
		random_list = {
			10 = {
				country_event = { id = apsr_enclave.399 days = 1000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 3000 }
			}
		}
	}
	
	option = {
		name = apsr_enclave.309.close
		random_list = {
			10 = {
				add_resource = { minor_artifacts = 10 }
			}
			10 = {
				add_resource = { minor_artifacts = 12 }
			}
			10 = {
				add_resource = { minor_artifacts = 14 }
			}
			10 = {
				add_resource = { minor_artifacts = 16 }
			}
			10 = {
				add_resource = { minor_artifacts = 18 }
			}
			10 = {
				add_resource = { minor_artifacts = 20 }
			}
			10 = {
				add_resource = { minor_artifacts = 22 }
			}
			10 = {
				add_resource = { minor_artifacts = 24 }
			}
			10 = {
				add_resource = { minor_artifacts = 26 }
			}
			10 = {
				add_resource = { minor_artifacts = 28 }
			}
			10 = {
				add_resource = { minor_artifacts = 30 }
			}
		}
	}
}

# Находка 10
country_event = {
	id = apsr_enclave.310
	title = "apsr_enclave.310.title"
	desc = "apsr_enclave.310.desc"
	picture = GFX_apsr_planet_view
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
			
	immediate = {
		random_list = {
			10 = {
				country_event = { id = apsr_enclave.399 days = 1000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 1800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2000 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2200 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2400 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2600 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 2800 }
			}
			10 = {
				country_event = { id = apsr_enclave.399 days = 3000 }
			}
		}
	}
	
	option = {
		name = apsr_enclave.310.close
		random_list = {
			10 = {
				add_resource = { minor_artifacts = 10 }
			}
			10 = {
				add_resource = { minor_artifacts = 12 }
			}
			10 = {
				add_resource = { minor_artifacts = 14 }
			}
			10 = {
				add_resource = { minor_artifacts = 16 }
			}
			10 = {
				add_resource = { minor_artifacts = 18 }
			}
			10 = {
				add_resource = { minor_artifacts = 20 }
			}
			10 = {
				add_resource = { minor_artifacts = 22 }
			}
			10 = {
				add_resource = { minor_artifacts = 24 }
			}
			10 = {
				add_resource = { minor_artifacts = 26 }
			}
			10 = {
				add_resource = { minor_artifacts = 28 }
			}
			10 = {
				add_resource = { minor_artifacts = 30 }
			}
		}
	}
}





# при колонизации/захвате/передаче планет с спец депозитом
planet_event = { 
	id = apsr_enclave.398
	hide_window = yes 
	is_triggered_only = yes
	
	immediate = {
	
		# экономика
		if = {
			limit = {
				AND = {
					has_deposit = apsr_enclave_economy_20_deposit
					owner = {
						NOT = {
							has_technology = tech_apsr_enclave_economy_button_20_bonus
						}
					}
				}
			}
			remove_deposit = apsr_enclave_economy_20_deposit
		}
	
		# наука
		if = {
			limit = {
				AND = {
					has_deposit = apsr_enclave_science_20_deposit
					owner = {
						NOT = {
							has_technology = tech_apsr_enclave_science_button_20_bonus
						}
					}
				}
			}
			remove_deposit = apsr_enclave_science_20_deposit
		}
		if = {
			limit = {
				OR = {
					has_modifier = apsr_enclave_science_19_decision_1_mod
					has_modifier = apsr_enclave_science_19_decision_2_mod
					has_modifier = apsr_enclave_science_19_decision_3_mod
				}
			}
			remove_modifier = apsr_enclave_science_19_decision_1_mod
			remove_modifier = apsr_enclave_science_19_decision_2_mod
			remove_modifier = apsr_enclave_science_19_decision_3_mod
		}
	
		# оборона
		if = {
			limit = {
				AND = {
					has_deposit = apsr_enclave_defence_20_deposit
					owner = {
						NOT = {
							has_technology = tech_apsr_enclave_defence_button_20_bonus
						}
					}
				}
			}
			remove_deposit = apsr_enclave_defence_20_deposit
		}
	}
}